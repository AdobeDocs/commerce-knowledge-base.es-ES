---
title: Actualización de seguridad disponible para Adobe Commerce - [!DNL APSB24-40]
promoted: true
description: Aplique una revisión y un parche para corregir  [!DNL CVE-2024-34102] para Adobe Commerce 2.4.4-p8, 2.4.5-p7, 2.4.6-p5, 2.4.7 y versiones anteriores.
feature: Compliance, Security
role: Developer
exl-id: b6f4a26f-a6cf-4ced-841e-a579c8e0f8f4
source-git-commit: 0f8744ceec118aa14632a3678d0262b3e730883d
workflow-type: tm+mt
source-wordcount: '803'
ht-degree: 0%

---

# Actualización de seguridad disponible para Adobe Commerce - [!DNL APSB24-40]

>[!NOTE]
>
>**Se trata de una actualización urgente relacionada con [!DNL CVE-2024-34102]. El Adobe sabe que [!DNL CVE-2024-34102] ha sido explotado en su hábitat natural en ataques muy limitados dirigidos a comerciantes de Adobe Commerce.

El 17 de julio de 2024, publicamos [!DNL hotfix] además de la actualización de seguridad del 11 de junio de 2024 o el parche aislado del 28 de junio de 2024.

**Compruebe todos los entornos de producción y que no sean de producción para asegurarse de que la tienda tenga parches en todas las instancias.  Realice <u>acción inmediata</u> para resolver la vulnerabilidad.**

>[!NOTE]
>
>**Solo para comerciantes de Adobe Commerce en la nube**:<br><br>1. Asegúrese de que se encuentra en la última versión de [!DNL ECE Tools]. Si no lo está, actualice (o salte al elemento 2). Para comprobar la versión existente, ejecute este comando:`composer show magento/ece-tools`<br>2. Si ya se encuentra en la última versión de [!DNL ECE Tools], compruebe la presencia del archivo `op-exclude.txt`. Para ello, ejecute este comando:`ls op-exclude.txt`. Si este archivo no está presente, agregue https://github.com/magento/magento-cloud/blob/master/op-exclude.txt a su repositorio, confirme el cambio y vuelva a implementar.<br>3. Sin tener que actualizar [!DNL ECE Tools], también puede agregar o modificar https://github.com/magento/magento-cloud/blob/master/op-exclude.txt en su repositorio, confirmar el cambio y volver a implementar.

## Opción 1: para los comerciantes que <u>no</u> hayan aplicado la actualización de seguridad del 11 de junio de 2024, ni el parche aislado lanzado el 28 de junio de 2024

1. Aplicar [!DNL hotfix] lanzado el 17 de julio de 2024.
1. Aplique el parche de seguridad.
1. Habilitar [!UICONTROL maintenance mode].
1. Deshabilitar la ejecución de [!DNL cron] (comando de Commerce en la nube: `vendor/bin/ece-tools cron:disable`).
1. [Rotar tu [!UICONTROL encryption keys]](https://experienceleague.adobe.com/es/docs/commerce-admin/systems/security/encryption-key).
1. Vaciar la caché.
1. Habilitar la ejecución de [!DNL cron] (comando de Commerce en la nube: `vendor/bin/ece-tools cron:enable`).
1. Deshabilitar [!UICONTROL maintenance mode].

O

1. Aplique el parche aislado. **<u>NOTA</u>: Esta versión de la revisión aislada contiene la revisión [!DNL hotfix] del 17 de julio de 2024.**
1. Habilitar [!UICONTROL maintenance mode].
1. Deshabilitar la ejecución de [!DNL cron] (comando de Commerce en la nube: `vendor/bin/ece-tools cron:disable`).
1. [Rotar tu [!UICONTROL encryption keys]](https://experienceleague.adobe.com/es/docs/commerce-admin/systems/security/encryption-key).
1. Vaciar la caché.
1. Habilitar la ejecución de [!DNL cron] (comando de Commerce en la nube: `vendor/bin/ece-tools cron:enable`).
1. Deshabilitar [!UICONTROL maintenance mode].

## Opción 2: para comerciantes que <u>ya</u> han aplicado la actualización de seguridad del 11 de junio de 2024 o el parche aislado lanzado el 28 de junio de 2024

1. Aplicar [!DNL hotfix] lanzado el 17 de julio de 2024.
1. Habilitar [!UICONTROL maintenance mode].
1. Deshabilitar la ejecución de [!DNL cron] (comando de Commerce en la nube: `vendor/bin/ece-tools cron:disable`).
1. [Rotar tu [!UICONTROL encryption keys]](https://experienceleague.adobe.com/es/docs/commerce-admin/systems/security/encryption-key).
1. Vaciar la caché.
1. Habilitar la ejecución de [!DNL cron] (comando de Commerce en la nube: `vendor/bin/ece-tools cron:enable`).
1. Deshabilitar [!UICONTROL maintenance mode].

## Opción 3: para los comerciantes que <u>ya</u> (1) aplicaron la actualización de seguridad del 11 de junio de 2024 o (2) el parche aislado lanzado el 28 de junio de 2024 y (3) giraron las claves de cifrado

* Aplicar la [revisión](#hotfix) publicada el 17 de julio de 2024.


>[!NOTE]
>
>Para asegurarse de que sigue a salvo después de la actualización, también debe **[rotar su [!UICONTROL encryption keys]](https://experienceleague.adobe.com/es/docs/commerce-admin/systems/security/encryption-key)**:<br><br>1. Habilitar [!UICONTROL maintenance mode].<br>2. Deshabilitar la ejecución de [!DNL cron] (comando de Commerce en la nube: `vendor/bin/ece-tools cron:disable`).<br>3. Rotar su [!DNL encryption keys].<br>4. Habilitar la ejecución de [!DNL cron] (comando de Commerce en la nube: `vendor/bin/ece-tools cron:enable`).<br>5. Deshabilitar [!UICONTROL maintenance mode].

En este artículo encontrará cómo implementar el parche aislado para este problema para las versiones actuales y anteriores de Adobe Commerce y Magento Open Source.
**<u>NOTA</u>: Esta versión de la revisión aislada contiene la revisión [!DNL hotfix] del 17 de julio de 2024.**

## Productos y versiones afectados

Adobe Commerce en la nube, Adobe Commerce local y Magento Open Source:

* 2.4.7-p1 y anteriores
* 2.4.6-p6 y anteriores
* 2.4.5-p8 y anteriores
* 2.4.4-p9 y anteriores

## Solución para Adobe Commerce en la nube, software local de Adobe Commerce y Magento Open Source

Para ayudar a resolver la vulnerabilidad de los productos y las versiones afectados, debe aplicar el parche [!DNL VULN-27015] (depende de su versión) y girar [!UICONTROL encryption keys].

## Detalles de revisión {#hotfix}

* Descargar [!DNL Hotfix] [AC-12485_Hotfix_COMPOSER_patch.zip](assets/AC-12485_Hotfix_COMPOSER_patch.zip)

## Detalles de parches aislados

**<u>NOTA</u>: Esta versión de la revisión aislada contiene la revisión [!DNL hotfix] del 17 de julio de 2024.**

Utilice los siguientes parches adjuntos, según la versión de Adobe Commerce/Magento Open Source:

### Para la versión 2.4.7:

* [VULN-27015-2.4.7x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.7x_v2_COMPOSER_patch.zip)

### Para las versiones 2.4.6, 2.4.6-p1, 2.4.6-p2, 2.4.6-p3, 2.4.6-p4, 2.4.6-p5:

* [VULN-27015-2.4.6x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.6x_v2_COMPOSER_patch.zip)

### Para las versiones 2.4.5, 2.4.5-p1, 2.4.5-p2, 2.4.5-p3, 2.4.5-p4, 2.4.5-p5, 2.4.5-p6, 2.4.5-p7:

* [VULN-27015-2.4.5x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.5x_v2_COMPOSER_patch.zip)

### Para las versiones 2.4.4, 2.4.4-p1, 2.4.4-p2, 2.4.4-p3, 2.4.4-p4, 2.4.4-p5, 2.4.4-p6, 2.4.4-p7, 2.4.4-p8:

* [VULN-27015-2.4.4x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.4x_v2_COMPOSER_patch.zip)


## Cómo aplicar el parche aislado y [!DNL hotfix]

Descomprima el archivo y vea [Cómo aplicar un parche del compositor proporcionado por el Adobe](https://experienceleague.adobe.com/docs/commerce-knowledge-base/kb/how-to/how-to-apply-a-composer-patch-provided-by-magento.html?lang=es) en nuestra base de conocimiento de asistencia para obtener instrucciones.

## Solo para comerciantes de Adobe Commerce en la nube: cómo saber si se han aplicado los parches aislados

Teniendo en cuenta que no es posible comprobar fácilmente si se ha aplicado un parche al problema, es posible que desee comprobar si el parche aislado de [!DNL VULN-27015] se ha aplicado correctamente.

<u>Para ello, siga los siguientes pasos y use el archivo `VULN-27015-2.4.7_COMPOSER.patch` como ejemplo</u>:

1. [Instalar la herramienta Parches de calidad](https://experienceleague.adobe.com/docs/commerce-operations/tools/quality-patches-tool/usage.html?lang=es).
1. Ejecute el comando:<br>
   ![cve-2024-34102-tell-if-patch-applied-code](assets/cve-2024-34102-tell-if-patch-applied-code.png)

<!--
    ```bash
    vendor/bin/magento-patches -n status |grep "27015\|Status"
    ```
-->

1. Debería ver una salida similar a esta, donde VULN-27015 devuelve el estado *Aplicado*:

   ```bash
   ║ Id            │ Title                                                        │ Category        │ Origin                 │ Status      │ Details                                          ║ ║ N/A           │ ../m2-hotfixes/VULN-27015-2.4.7_COMPOSER_patch.patch      │ Other           │ Local                  │ Applied     │ Patch type: Custom                                
   ```

## Rotar o cambiar [!UICONTROL encryption key] después de aplicar el parche

Para obtener instrucciones **sobre cómo rotar o cambiar el [!UICONTROL encryption key] después de aplicar el parche, consulte la [Guía de sistemas de administración: [!UICONTROL Encryption key]](https://experienceleague.adobe.com/es/docs/commerce-admin/systems/security/encryption-key)** en la documentación de la Guía de sistemas de administración de Commerce.

## Directrices adicionales para proteger su tienda y girar las claves de cifrado

Para obtener instrucciones adicionales sobre cómo proteger el almacén y girar las claves de cifrado con respecto a [!DNL CVE-2024-34102], consulte [Directrices sobre cómo proteger el almacén y girar las claves de cifrado: [!DNL CVE-2024-34102]](https://experienceleague.adobe.com/es/docs/commerce-knowledge-base/kb/troubleshooting/known-issues-patches-attached/guidance-on-securing-your-store-and-rotating-encryptionkeys-cve-2024-34102), también en la Base de conocimiento de Adobe Commerce.

## Actualizaciones de seguridad

Actualizaciones de seguridad disponibles para Adobe Commerce:

* [Solución de problemas de rotación de clave de cifrado: [!DNL CVE-2024-34102]](https://experienceleague.adobe.com/es/docs/commerce-knowledge-base/kb/troubleshooting/known-issues-patches-attached/troubleshooting-encryption-key-rotation-cve-2024-34102)
* [Boletín de seguridad de Adobe ([!DNL APSB24-40])](https://helpx.adobe.com/es/security/products/magento/apsb24-40.html)

## Lectura relacionada

[Habilitar o deshabilitar [!UICONTROL maintenance mode]](https://experienceleague.adobe.com/es/docs/commerce-operations/installation-guide/tutorials/maintenance-mode) en la Guía de instalación de Adobe Commerce